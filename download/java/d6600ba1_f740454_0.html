<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<link rel="stylesheet" type="text/css" href="file:///D:/soft_setup/nyfedit7pro/scripts/highlight.styles/default.css" />
		<style>
			body, table{font-family: 微软雅黑; font-size: 10pt}
			
			table{border-collapse: collapse; border: 1px solid gray; border-width: 2px 1px 2px 1px;}
			th{border: 1px solid gray; padding: 4px; background-color: #ddd;}
			td{border: 1px solid gray; padding: 4px;}
			tr:nth-child(2n){background-color: #f8f8f8;}
			pre{border: 2px solid #d6d6d6; padding: 0px; border-radius: 3px;}
		</style>
	
<link rel="stylesheet" type="text/css" href="1817fd6e_11c10399_0.css">
</head>
	<body>
		<div>
			<h4 style="mso-list:l0 level1 lfo1;"><span style="font-size: x-large; font-weight: normal;"><span style="font-family: 微软雅黑; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(153, 204, 0); "><span style="font-family: 微软雅黑">【1】视图的概念</span></span><span style="font-family: 微软雅黑; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; "><o:p></o:p></span></span>
			</h4>
			<p class="MsoNormal" style="margin-left:21.0000pt;mso-para-margin-left:2.0000gd;mso-layout-grid-align:none;
layout-grid-mode:char;mso-pagination:widow-orphan;text-align:left;"><span style="font-size: x-large; "><span style="font-family: 微软雅黑; color: rgb(34, 34, 34); background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; "><span style="font-family: 微软雅黑">视图</span></span><span style="font-family: 微软雅黑; color: rgb(34, 34, 34); background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; "><span style="font-family: 微软雅黑">（</span></span><span style="font-family: 微软雅黑; color: rgb(34, 34, 34); background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; ">view</span><span style="font-family: 微软雅黑; color: rgb(34, 34, 34); background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; "><span style="font-family: 微软雅黑">）</span></span><span style="font-family: 微软雅黑; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; "><span style="font-family: 微软雅黑"><span style="color: rgb(34, 34, 34);">是</span><span style="color: rgb(255, 102, 0);">一个</span><span style="color: rgb(34, 34, 34);">从单张或多张基础数据表或其他视图中构建出来的</span><span style="color: rgb(255, 102, 0);">虚拟表</span><span style="color: rgb(34, 34, 34);">。同基础表一样，视图中也包含了一系列带有名称的列和行数据，但是数据库中只是存放视图的定义，也就是动态检索数据的查询语句，而并不存放视图中的数据，这些数据依旧存放于构建视图的基础表中，只有当用户使用视图时才去数据库请求相对应的数据，即视图中的数据是在引用视图时动态生成的。因此视图中的数据依赖于构建视图的基础表，如果基本表中的数据发生了变化，视图中相应的数据也会跟着改变。</span></span></span><span style="font-family: 微软雅黑; color: rgb(34, 34, 34); background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; "><o:p></o:p></span></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0000pt;mso-para-margin-left:2.0000gd;mso-layout-grid-align:none;
layout-grid-mode:char;mso-pagination:widow-orphan;text-align:left;"><span style="font-size: x-large; "><span style="font-family: 微软雅黑; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; "><span style="font-family: 微软雅黑"><span style="color: rgb(34, 34, 34);"><br /></span></span></span></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0000pt;mso-para-margin-left:2.0000gd;mso-layout-grid-align:none;
layout-grid-mode:char;mso-pagination:widow-orphan;text-align:left;"><span style="font-size: x-large; "><span style="font-family: 微软雅黑; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; "><span style="font-family: 微软雅黑"><span style="color: rgb(34, 34, 34);">PS:视图本质上就是：一个查询语句，是一个虚拟的表，不存在的表，你查看视图，其实就是查看视图对应的sql语句</span></span></span></span>
			</p>
			<h4 style="mso-list:l0 level1 lfo1;"><span style="font-size: x-large; font-weight: normal;"><span style="font-family: 微软雅黑; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(153, 204, 0); "><span style="font-family: 微软雅黑">【2】视图的好处</span></span><span style="font-family: 微软雅黑; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; "><o:p></o:p></span></span>
			</h4>
			<p class="MsoNormal" style="margin-left:21.0000pt;mso-para-margin-left:2.0000gd;mso-layout-grid-align:none;
layout-grid-mode:char;mso-pagination:widow-orphan;text-align:left;"><span style="font-size: x-large; "><span style="font-family: 微软雅黑; color: rgb(34, 34, 34); background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; "><span style="font-family: 微软雅黑">简化用户操作</span></span><span style="font-family: 微软雅黑; color: rgb(34, 34, 34); background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; "><span style="font-family: 微软雅黑">：视图可以使用户将注意力集中在所关心地数据上，而不需要关心数据表的结构、与其他表的关联条件以及查询条件等。</span></span><span style="font-family: 微软雅黑; color: rgb(34, 34, 34); background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial; "><o:p></o:p></span></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0000pt;mso-para-margin-left:2.0000gd;mso-layout-grid-align:none;
layout-grid-mode:char;mso-pagination:widow-orphan;text-align:left;"><span style="font-size: x-large; "><span style="font-family: 微软雅黑; color: rgb(34, 34, 34); background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); "><span style="font-family: 微软雅黑">对机密数据提供安全保护：</span></span><span style="font-family: 微软雅黑; color: rgb(34, 34, 34); background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); "><span style="font-family: 微软雅黑">有了视图，就可以在设计数据库应用系统时，对不同的用户定义不同的视图，避免机密数据（如，敏感字段</span>“salary”）出现在不应该看到这些数据的用户视图上。这样视图就自动提供了对机密数据的安全保护功能</span></span><span style="mso-spacerun:'yes';font-family:微软雅黑;mso-bidi-font-family:Tahoma;
color:rgb(34,34,34);font-size:12.0000pt;mso-font-kerning:0.0000pt;
background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><o:p></o:p></span>
			</p>
			<h4 style="mso-list:l0 level1 lfo1;"><span style="font-size: x-large; font-weight: normal;"><span style="font-family: 微软雅黑; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(153, 204, 0); "><span style="font-family: 微软雅黑">【3】SQL展示：</span></span></span>
			</h4>
			<div><span style="font-size: x-large; font-weight: normal;"><span style="font-family: 微软雅黑; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(153, 204, 0); "><span style="font-family: 微软雅黑">
				<div><br />
				</div>
				<pre>
<code id="ID_175ABF0BBC3" class="hljs sql"><ol><li><span class="hljs-comment">-- 创建/替换单表视图：</span></li><li><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">replace</span> <span class="hljs-keyword">view</span> myview01</li><li><span class="hljs-keyword">as</span></li><li><span class="hljs-keyword">select</span> empno,ename,job,deptno </li><li><span class="hljs-keyword">from</span> emp</li><li><span class="hljs-keyword">where</span> deptno = <span class="hljs-number">20</span></li><li><span class="hljs-keyword">with</span> <span class="hljs-keyword">check</span> <span class="hljs-keyword">option</span>;</li><li></li><li><span class="hljs-comment">-- 查看视图：</span></li><li><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> myview01;</li><li></li><li><span class="hljs-comment">-- 在视图中插入数据：</span></li><li><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> myview01 (empno,ename,job,deptno) <span class="hljs-keyword">values</span> (<span class="hljs-number">9999</span>,<span class="hljs-string">'lili'</span>,<span class="hljs-string">'CLERK'</span>,<span class="hljs-number">20</span>);</li><li><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> myview01 (empno,ename,job,deptno) <span class="hljs-keyword">values</span> (<span class="hljs-number">8888</span>,<span class="hljs-string">'nana'</span>,<span class="hljs-string">'CLERK'</span>,<span class="hljs-number">30</span>);</li><li><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> myview01 (empno,ename,job,deptno) <span class="hljs-keyword">values</span> (<span class="hljs-number">7777</span>,<span class="hljs-string">'feifei'</span>,<span class="hljs-string">'CLERK'</span>,<span class="hljs-number">30</span>); </li><li><span class="hljs-comment">-- &gt; 1369 - CHECK OPTION failed 'mytestdb.myview01'</span></li><li></li><li></li><li><span class="hljs-comment">-- 创建/替换多表视图：</span></li><li></li><li><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">replace</span> <span class="hljs-keyword">view</span> myview02</li><li><span class="hljs-keyword">as</span> </li><li><span class="hljs-keyword">select</span> e.empno,e.ename,e.sal,d.deptno,d.dname</li><li><span class="hljs-keyword">from</span> emp e</li><li><span class="hljs-keyword">join</span> dept d</li><li><span class="hljs-keyword">on</span> e.deptno = d.deptno</li><li><span class="hljs-keyword">where</span> sal &gt; <span class="hljs-number">2000</span> ;</li><li></li><li><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> myview02;</li><li></li><li></li><li><span class="hljs-comment">-- 创建统计视图：</span></li><li><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">replace</span> <span class="hljs-keyword">view</span> myview03</li><li><span class="hljs-keyword">as</span></li><li><span class="hljs-keyword">select</span> e.deptno,d.dname,<span class="hljs-keyword">avg</span>(sal),<span class="hljs-keyword">min</span>(sal),<span class="hljs-keyword">count</span>(<span class="hljs-number">1</span>)</li><li><span class="hljs-keyword">from</span> emp e</li><li><span class="hljs-keyword">join</span> dept d</li><li><span class="hljs-keyword">using</span>(deptno)</li><li><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> e.deptno ;</li><li></li><li></li><li><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> myview03;</li><li></li><li></li><li><span class="hljs-comment">-- 创建基于视图的视图：</span></li><li></li><li></li><li><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">replace</span> <span class="hljs-keyword">view</span> myview04</li><li><span class="hljs-keyword">as</span></li><li><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> myview03 <span class="hljs-keyword">where</span> deptno = <span class="hljs-number">20</span>;</li><li></li><li><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> myview04;</li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ol></code></pre>
				<div><br />
				</div></span></span></span>
			</div>
			<p class="MsoNormal" style="margin-left:21.0000pt;mso-para-margin-left:2.0000gd;mso-layout-grid-align:none;
layout-grid-mode:char;mso-pagination:widow-orphan;text-align:left;"><span style="font-size: x-large; "><span style="font-family: 微软雅黑; color: rgb(34, 34, 34); background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); "><br /></span></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0000pt;mso-para-margin-left:2.0000gd;mso-layout-grid-align:none;
layout-grid-mode:char;mso-pagination:widow-orphan;text-align:left;"><span style="font-size: x-large; "><span style="font-family: 微软雅黑; color: rgb(34, 34, 34); background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); "><br /></span></span>
			</p>
		</div>
	
<script type="text/javascript" language="javascript" src="jquery.js"></script>
<script type="text/javascript" language="javascript" src="itemlink.js"></script><footer style="font-size: small; font-style: italic; text-align: right; margin-top: 16em; padding-top: 4px; border-top: 2px solid gray;">Generated with <a href="http://www.wjjsoft.com/mybase.html?ref=htmltree_export" target=_blank>Mybase Desktop 8.2.12</a></footer></body>
</html>